{"ast":null,"code":"var _jsxFileName = \"/Users/linhnguyen/Documents/document/Sem3/ReactJS/asm/frontend-asm-admin/src/containers/UpdateProduct/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as action from \"../../actions\";\nexport default (({\n  id\n}) => {\n  const [state, setState] = useState({\n    _id: '',\n    productName: '',\n    category: '',\n    description: '',\n    details: [],\n    imagePath: [],\n    indexImageDeleted: [],\n    price: ''\n  });\n  const dispatch = useDispatch();\n  const {\n    data\n  } = useSelector(state => state.productDetail);\n  const listCategories = useSelector(state => state.listCategory);\n  useEffect(() => {\n    dispatch(action.getProductDetail(id));\n    dispatch(action.getListCategories());\n  }, [dispatch, id]);\n  useEffect(() => {\n    data && setState(data);\n  }, [data]);\n\n  const handleClickAddDetail = () => {\n    const newDetail = [{\n      color: '',\n      size: '',\n      quantity: 0\n    }];\n    setState({ ...state,\n      details: [...state.details, ...newDetail]\n    });\n  };\n\n  const handleInputColor = (e, index) => {\n    const newState = state;\n    newState.details[index].color = e.target.value;\n    setState(newState);\n  };\n\n  const handleInputQuantity = (e, index) => {\n    const newState = state;\n    newState.details[index].quantity = e.target.value;\n    setState(newState);\n  };\n\n  const handleSelectSize = (e, index) => {\n    const newState = state;\n    newState.details[index].size = e.target.value;\n    setState(newState);\n  };\n\n  const handleSelectCategory = e => {\n    const newState = state;\n    newState.category = e.target.value;\n    setState(newState);\n  };\n\n  const handleClickDelete = index => {\n    const newDetail = state.details;\n    newDetail.splice(index, 1);\n    setState({ ...state,\n      details: newDetail\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    state.indexImageDeleted = [];\n    dispatch(action.updateProduct(state));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row bg-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-md-4 col-sm-4 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Add Product\"))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-horizontal form-material row\",\n    onSubmit: e => handleSubmit(e),\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"white-box list-image-update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, data && data.imagePath.map((path, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"how-itemcart1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${process.env.REACT_APP_PORT}/${path}`,\n    alt: \"product\",\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-btm-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-line\",\n    type: \"file\",\n    multiple: \"multiple\",\n    onChange: e => setState({ ...state,\n      imagePath: [...state.imagePath, ...[`images/${e.target.files[0].name}`]]\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"white-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-line\",\n    type: \"text\",\n    defaultValue: state ? state.productName : \"\",\n    onChange: e => setState({ ...state,\n      productName: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control form-control-line\",\n    defaultValue: state ? state.category : \"\",\n    onChange: e => handleSelectCategory(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, listCategories && listCategories.data.map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: item.categoryName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, item.categoryName))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listDetail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, state && state.details.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"row col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-line\",\n    type: \"text\",\n    placeholder: \"Color\",\n    defaultValue: item.color,\n    onChange: e => handleInputColor(e, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, \"Size\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control form-control-line\",\n    required: \"required\",\n    defaultValue: item.size,\n    onChange: e => handleSelectSize(e, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"S\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }, \"S\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"M\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, \"M\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"L\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 27\n    }\n  }, \"L\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"XL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  }, \"XL\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"XXL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 27\n    }\n  }, \"XXL\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 23\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-line\",\n    type: \"number\",\n    min: \"0\",\n    max: \"1000\",\n    placeholder: \"Quantity\",\n    defaultValue: item.quantity,\n    onChange: e => handleInputQuantity(e, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    type: \"button\",\n    onClick: () => handleClickDelete(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Detele\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"button\",\n    onClick: () => handleClickAddDetail(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }, \"Add detail\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 43\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-line\",\n    type: \"number\",\n    min: \"10\",\n    defaultValue: state ? state.price : \"\",\n    onChange: e => setState({ ...state,\n      price: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 44\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 43\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control form-control-line\",\n    rows: \"10\",\n    style: {\n      height: '100px'\n    },\n    value: state ? state.description : \"\",\n    onChange: e => setState({ ...state,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, \"description\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 listImageDeleted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"d-none\",\n    type: \"hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 61\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 44\n    }\n  }, \"Update product\"))))))));\n});","map":{"version":3,"sources":["/Users/linhnguyen/Documents/document/Sem3/ReactJS/asm/frontend-asm-admin/src/containers/UpdateProduct/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","action","id","state","setState","_id","productName","category","description","details","imagePath","indexImageDeleted","price","dispatch","data","productDetail","listCategories","listCategory","getProductDetail","getListCategories","handleClickAddDetail","newDetail","color","size","quantity","handleInputColor","e","index","newState","target","value","handleInputQuantity","handleSelectSize","handleSelectCategory","handleClickDelete","splice","handleSubmit","preventDefault","updateProduct","map","path","process","env","REACT_APP_PORT","files","name","item","categoryName","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,MAAZ,MAAwB,eAAxB;AAEA,gBAAe,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAY;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC;AACjCO,IAAAA,GAAG,EAAE,EAD4B;AAEjCC,IAAAA,WAAW,EAAE,EAFoB;AAGjCC,IAAAA,QAAQ,EAAE,EAHuB;AAIjCC,IAAAA,WAAW,EAAE,EAJoB;AAKjCC,IAAAA,OAAO,EAAE,EALwB;AAMjCC,IAAAA,SAAS,EAAE,EANsB;AAOjCC,IAAAA,iBAAiB,EAAE,EAPc;AAQjCC,IAAAA,KAAK,EAAE;AAR0B,GAAD,CAAlC;AAUA,QAAMC,QAAQ,GAAGd,WAAW,EAA5B;AACA,QAAM;AAAEe,IAAAA;AAAF,MAAWd,WAAW,CAACG,KAAK,IAAIA,KAAK,CAACY,aAAhB,CAA5B;AACA,QAAMC,cAAc,GAAGhB,WAAW,CAACG,KAAK,IAAIA,KAAK,CAACc,YAAhB,CAAlC;AACApB,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,QAAQ,CAACZ,MAAM,CAACiB,gBAAP,CAAwBhB,EAAxB,CAAD,CAAR;AACAW,IAAAA,QAAQ,CAACZ,MAAM,CAACkB,iBAAP,EAAD,CAAR;AACD,GAHQ,EAGN,CAACN,QAAD,EAAWX,EAAX,CAHM,CAAT;AAKAL,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,IAAI,IAAIV,QAAQ,CAACU,IAAD,CAAhB;AACD,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;;AAIA,QAAMM,oBAAoB,GAAG,MAAM;AACjC,UAAMC,SAAS,GAAG,CAAC;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,IAAI,EAAE,EAAnB;AAAuBC,MAAAA,QAAQ,EAAE;AAAjC,KAAD,CAAlB;AACApB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYM,MAAAA,OAAO,EAAE,CAAC,GAAGN,KAAK,CAACM,OAAV,EAAmB,GAAGY,SAAtB;AAArB,KAAD,CAAR;AACD,GAHD;;AAIA,QAAMI,gBAAgB,GAAG,CAACC,CAAD,EAAIC,KAAJ,KAAc;AACrC,UAAMC,QAAQ,GAAGzB,KAAjB;AACAyB,IAAAA,QAAQ,CAACnB,OAAT,CAAiBkB,KAAjB,EAAwBL,KAAxB,GAAgCI,CAAC,CAACG,MAAF,CAASC,KAAzC;AACA1B,IAAAA,QAAQ,CAACwB,QAAD,CAAR;AACD,GAJD;;AAMA,QAAMG,mBAAmB,GAAG,CAACL,CAAD,EAAIC,KAAJ,KAAc;AACxC,UAAMC,QAAQ,GAAGzB,KAAjB;AACAyB,IAAAA,QAAQ,CAACnB,OAAT,CAAiBkB,KAAjB,EAAwBH,QAAxB,GAAmCE,CAAC,CAACG,MAAF,CAASC,KAA5C;AACA1B,IAAAA,QAAQ,CAACwB,QAAD,CAAR;AACD,GAJD;;AAKA,QAAMI,gBAAgB,GAAG,CAACN,CAAD,EAAIC,KAAJ,KAAc;AACrC,UAAMC,QAAQ,GAAGzB,KAAjB;AACAyB,IAAAA,QAAQ,CAACnB,OAAT,CAAiBkB,KAAjB,EAAwBJ,IAAxB,GAA+BG,CAAC,CAACG,MAAF,CAASC,KAAxC;AACA1B,IAAAA,QAAQ,CAACwB,QAAD,CAAR;AACD,GAJD;;AAMA,QAAMK,oBAAoB,GAAIP,CAAD,IAAO;AAClC,UAAME,QAAQ,GAAGzB,KAAjB;AACAyB,IAAAA,QAAQ,CAACrB,QAAT,GAAoBmB,CAAC,CAACG,MAAF,CAASC,KAA7B;AACA1B,IAAAA,QAAQ,CAACwB,QAAD,CAAR;AACD,GAJD;;AAMA,QAAMM,iBAAiB,GAAIP,KAAD,IAAW;AACnC,UAAMN,SAAS,GAAGlB,KAAK,CAACM,OAAxB;AACAY,IAAAA,SAAS,CAACc,MAAV,CAAiBR,KAAjB,EAAwB,CAAxB;AACAvB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYM,MAAAA,OAAO,EAAEY;AAArB,KAAD,CAAR;AACD,GAJD;;AAMA,QAAMe,YAAY,GAAIV,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACW,cAAF;AACAlC,IAAAA,KAAK,CAACQ,iBAAN,GAA0B,EAA1B;AACAE,IAAAA,QAAQ,CAACZ,MAAM,CAACqC,aAAP,CAAqBnC,KAArB,CAAD,CAAR;AACD,GAJD;;AAKA,sBACE;AAAK,IAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,CADF,eAME;AAAM,IAAA,SAAS,EAAC,mCAAhB;AAAoD,IAAA,QAAQ,EAAGuB,CAAD,IAAOU,YAAY,CAACV,CAAD,CAAjF;AAAsF,IAAA,OAAO,EAAC,qBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,IAAI,IAAIA,IAAI,CAACJ,SAAL,CAAe6B,GAAf,CAAmB,CAACC,IAAD,EAAOb,KAAP,kBAC1B;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAG,GAAEc,OAAO,CAACC,GAAR,CAAYC,cAAe,IAAGH,IAAK,EAAhD;AAAmD,IAAA,GAAG,EAAC,SAAvD;AAAiE,IAAA,KAAK,EAAC,MAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADO,CADX,eAME;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,gCAAjB;AAAkD,IAAA,IAAI,EAAC,MAAvD;AAA8D,IAAA,QAAQ,EAAC,UAAvE;AAAkF,IAAA,QAAQ,EAAGd,CAAD,IAAOtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYO,MAAAA,SAAS,EAAE,CAAC,GAAGP,KAAK,CAACO,SAAV,EAAqB,GAAG,CAAE,UAASgB,CAAC,CAACG,MAAF,CAASe,KAAT,CAAe,CAAf,EAAkBC,IAAK,EAAlC,CAAxB;AAAvB,KAAD,CAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CADF,CADF,eAaE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,gCAAjB;AAAkD,IAAA,IAAI,EAAC,MAAvD;AAA8D,IAAA,YAAY,EAAE1C,KAAK,GAAGA,KAAK,CAACG,WAAT,GAAuB,EAAxG;AAA4G,IAAA,QAAQ,EAAGoB,CAAD,IAAOtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYG,MAAAA,WAAW,EAAEoB,CAAC,CAACG,MAAF,CAASC;AAAlC,KAAD,CAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,eAME;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,gCAAlB;AAAmD,IAAA,YAAY,EAAE3B,KAAK,GAAGA,KAAK,CAACI,QAAT,GAAoB,EAA1F;AAA8F,IAAA,QAAQ,EAAGmB,CAAD,IAAOO,oBAAoB,CAACP,CAAD,CAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIV,cAAc,IAAIA,cAAc,CAACF,IAAf,CAAoByB,GAApB,CAAwB,CAACO,IAAD,EAAOnB,KAAP,kBACxC;AAAQ,IAAA,GAAG,EAAEA,KAAb;AAAoB,IAAA,KAAK,EAAEmB,IAAI,CAACC,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+CD,IAAI,CAACC,YAApD,CADgB,CAFtB,CADF,CAFF,CANF,eAkBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5C,KAAK,IAAIA,KAAK,CAACM,OAAN,CAAc8B,GAAd,CAAkB,CAACO,IAAD,EAAOnB,KAAP,kBAC1B;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,gCAAjB;AAAkD,IAAA,IAAI,EAAC,MAAvD;AAA8D,IAAA,WAAW,EAAC,OAA1E;AAAkF,IAAA,YAAY,EAAEmB,IAAI,CAACxB,KAArG;AAA4G,IAAA,QAAQ,EAAGI,CAAD,IAAOD,gBAAgB,CAACC,CAAD,EAAIC,KAAJ,CAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,eAME;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,gCAAlB;AAAmD,IAAA,QAAQ,EAAC,UAA5D;AAAuE,IAAA,YAAY,EAAEmB,IAAI,CAACvB,IAA1F;AAAgG,IAAA,QAAQ,EAAGG,CAAD,IAAOM,gBAAgB,CAACN,CAAD,EAAIC,KAAJ,CAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,eAGE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHF,eAIE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,eAKE;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALF,CADF,CAFF,CANF,eAkBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,gCAAjB;AAAkD,IAAA,IAAI,EAAC,QAAvD;AAAgE,IAAA,GAAG,EAAC,GAApE;AAAwE,IAAA,GAAG,EAAC,MAA5E;AAAmF,IAAA,WAAW,EAAC,UAA/F;AAA0G,IAAA,YAAY,EAAEmB,IAAI,CAACtB,QAA7H;AAAuI,IAAA,QAAQ,EAAGE,CAAD,IAAOK,mBAAmB,CAACL,CAAD,EAAIC,KAAJ,CAA3K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CAlBF,eAuBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,IAAI,EAAC,QAAxC;AAAiD,IAAA,OAAO,EAAE,MAAMO,iBAAiB,CAACP,KAAD,CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAFF,CAvBF,CADQ,CADZ,CAlBF,eAoDE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAkD,IAAA,OAAO,EAAE,MAAMP,oBAAoB,EAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CApDF,eAyDE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA5B,eACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA2B;AAAO,IAAA,SAAS,EAAC,gCAAjB;AAAkD,IAAA,IAAI,EAAC,QAAvD;AAAgE,IAAA,GAAG,EAAC,IAApE;AAAyE,IAAA,YAAY,EAAEjB,KAAK,GAAGA,KAAK,CAACS,KAAT,GAAiB,EAA7G;AAAiH,IAAA,QAAQ,EAAGc,CAAD,IAAOtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYS,MAAAA,KAAK,EAAEc,CAAC,CAACG,MAAF,CAASC;AAA5B,KAAD,CAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3B,CADF,CAzDF,eA4DE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA5B,eACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAU,IAAA,SAAS,EAAC,gCAApB;AAAqD,IAAA,IAAI,EAAC,IAA1D;AAA+D,IAAA,KAAK,EAAE;AAAEkB,MAAAA,MAAM,EAAE;AAAV,KAAtE;AAA2F,IAAA,KAAK,EAAE7C,KAAK,GAAGA,KAAK,CAACK,WAAT,GAAuB,EAA9H;AAAkI,IAAA,QAAQ,EAAGkB,CAAD,IAAOtB,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYK,MAAAA,WAAW,EAAEkB,CAAC,CAACG,MAAF,CAASC;AAAlC,KAAD,CAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,CA5DF,eAgEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4C;AAAO,IAAA,SAAS,EAAC,QAAjB;AAA0B,IAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5C,CADF,CAhEF,eAmEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA2B;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA3B,CADF,CAnEF,CADF,CAbF,CANF,CADF,CADF;AAkGD,CA/JD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as action from \"../../actions\";\n\nexport default ({ id }) => {\n  const [state, setState] = useState({\n    _id: '',\n    productName: '',\n    category: '',\n    description: '',\n    details: [],\n    imagePath: [],\n    indexImageDeleted: [],\n    price: ''\n  });\n  const dispatch = useDispatch();\n  const { data } = useSelector(state => state.productDetail);\n  const listCategories = useSelector(state => state.listCategory);\n  useEffect(() => {\n    dispatch(action.getProductDetail(id));\n    dispatch(action.getListCategories());\n  }, [dispatch, id])\n\n  useEffect(() => {\n    data && setState(data);\n  }, [data])\n\n  const handleClickAddDetail = () => {\n    const newDetail = [{ color: '', size: '', quantity: 0 }];\n    setState({ ...state, details: [...state.details, ...newDetail] });\n  }\n  const handleInputColor = (e, index) => {\n    const newState = state;\n    newState.details[index].color = e.target.value;\n    setState(newState);\n  }\n\n  const handleInputQuantity = (e, index) => {\n    const newState = state;\n    newState.details[index].quantity = e.target.value;\n    setState(newState);\n  }\n  const handleSelectSize = (e, index) => {\n    const newState = state;\n    newState.details[index].size = e.target.value;\n    setState(newState);\n  }\n\n  const handleSelectCategory = (e) => {\n    const newState = state;\n    newState.category = e.target.value;\n    setState(newState);\n  }\n\n  const handleClickDelete = (index) => {\n    const newDetail = state.details;\n    newDetail.splice(index, 1);\n    setState({ ...state, details: newDetail });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    state.indexImageDeleted = [];\n    dispatch(action.updateProduct(state))\n  }\n  return (\n    <div id=\"page-wrapper\">\n      <div className=\"container-fluid\">\n        <div className=\"row bg-title\">\n          <div className=\"col-lg-3 col-md-4 col-sm-4 col-xs-12\">\n            <h4 className=\"page-title\">Add Product</h4>\n          </div>\n        </div>\n        <form className=\"form-horizontal form-material row\" onSubmit={(e) => handleSubmit(e)} encType=\"multipart/form-data\">\n          <div className=\"col-md-4 col-xs-12\">\n            <div className=\"white-box list-image-update\">\n              {data && data.imagePath.map((path, index) =>\n                <div key={index} className=\"how-itemcart1\" >\n                  <img src={`${process.env.REACT_APP_PORT}/${path}`} alt=\"product\" width=\"100%\" />\n                </div>\n              )}\n              <div className=\"product-btm-box\">\n                <input className=\"form-control form-control-line\" type=\"file\" multiple=\"multiple\" onChange={(e) => setState({ ...state, imagePath: [...state.imagePath, ...[`images/${e.target.files[0].name}`]] })} />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-8 col-xs-12\">\n            <div className=\"white-box\">\n              <div className=\"form-group\">\n                <label className=\"col-md-12\">Product Name</label>\n                <div className=\"col-md-12\">\n                  <input className=\"form-control form-control-line\" type=\"text\" defaultValue={state ? state.productName : \"\"} onChange={(e) => setState({ ...state, productName: e.target.value })} /></div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-12\">Category</label>\n                <div className=\"col-sm-12\">\n                  <select className=\"form-control form-control-line\" defaultValue={state ? state.category : \"\"} onChange={(e) => handleSelectCategory(e)}>\n                    {\n                      listCategories && listCategories.data.map((item, index) =>\n                        <option key={index} value={item.categoryName}>{item.categoryName}</option>\n                      )\n                    }\n                  </select>\n                </div>\n              </div>\n              <div className=\"listDetail\">\n                {state && state.details.map((item, index) =>\n                  <div key={index} className=\"row col-md-12\">\n                    <div className=\"form-group\">\n                      <label className=\"col-md-12\">Color</label>\n                      <div className=\"col-md-12\">\n                        <input className=\"form-control form-control-line\" type=\"text\" placeholder=\"Color\" defaultValue={item.color} onChange={(e) => handleInputColor(e, index)} /></div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label className=\"col-sm-12\">Size</label>\n                      <div className=\"col-sm-12\">\n                        <select className=\"form-control form-control-line\" required=\"required\" defaultValue={item.size} onChange={(e) => handleSelectSize(e, index)}>\n                          <option value=\"S\">S</option>\n                          <option value=\"M\">M</option>\n                          <option value=\"L\">L</option>\n                          <option value=\"XL\">XL</option>\n                          <option value=\"XXL\">XXL</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label className=\"col-md-12\">Quantity</label>\n                      <div className=\"col-md-12\">\n                        <input className=\"form-control form-control-line\" type=\"number\" min=\"0\" max=\"1000\" placeholder=\"Quantity\" defaultValue={item.quantity} onChange={(e) => handleInputQuantity(e, index)} /></div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label className=\"col-md-12\"></label>\n                      <div className=\"col-sm-12\">\n                        <button className=\"btn btn-danger\" type=\"button\" onClick={() => handleClickDelete(index)}>Detele</button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <div className=\"col-sm-12\">\n                  <button className=\"btn btn-primary\" type=\"button\" onClick={() => handleClickAddDetail()}>Add detail</button>\n                </div>\n              </div>\n              <div className=\"form-group\"><label className=\"col-md-12\">Price</label>\n                <div className=\"col-md-12\"><input className=\"form-control form-control-line\" type=\"number\" min=\"10\" defaultValue={state ? state.price : \"\"} onChange={(e) => setState({ ...state, price: e.target.value })} /></div>\n              </div>\n              <div className=\"form-group\"><label className=\"col-md-12\">Description</label>\n                <div className=\"col-md-12\">\n                  <textarea className=\"form-control form-control-line\" rows=\"10\" style={{ height: '100px' }} value={state ? state.description : \"\"} onChange={(e) => setState({ ...state, description: e.target.value })} >description</textarea></div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"col-sm-12 listImageDeleted\"><input className=\"d-none\" type=\"hidden\" /></div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"col-sm-12\"><button className=\"btn btn-success\" type=\"submit\">Update product</button></div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}